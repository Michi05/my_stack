<launch>

  <!-- The namespace and position arguments -->
  <arg name="namespace" default="" />
  <arg name="x"         default="0" />
  <arg name="y"         default="0" />
  <arg name="z"         default="0" />
  <arg name="roll"      default="0" />
  <arg name="pitch"     default="0" />
  <arg name="yaw"       default="0" />

  <!-- The namespace -->
  <group ns="$(arg namespace)">

    <!-- Converts the pioneer3dx urdf.xacro to urdf and loads it in the parameter server -->
    <param name="robot_description" command="$(find xacro)/xacro.py $(find my_gazebo_worlds)/models/pioneer3dx.urdf.xacro" />

    <!-- Spawn robot -->
    <node
      name="$(anon robot_spawn_model_node)"
      pkg="gazebo"
      type="spawn_model"
      args="-x $(arg x) -y $(arg y) -z $(arg z) -R $(arg roll) -P $(arg pitch) -Y $(arg yaw) -urdf -param robot_description -model $(arg namespace) -namespace $(arg namespace)"
      respawn="false"
      output="screen"
    />

    <!-- Controller Manager -->
    <!-- include file="$(find pr2_controller_manager)/controller_manager.launch" /-->

    <!-- load controllers -->
    <!-- node name="diffdrive" pkg="gazebo_plugins" type="gazebo_ros_diffdrive" respawn="true" output="screen"/-->

  </group>

</launch>
